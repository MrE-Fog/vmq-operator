apiVersion: vmq.k8s.vernemq.com/v1alpha1
kind: VerneMQ
metadata:
  labels:
    vernemq: k8s
  name: k8s
  namespace: messaging
spec:
  baseImage: vernemq/vernemq
  config:
    configs:
    - name: allow_register_during_netsplit
      value: "on"
    - name: allow_publish_during_netsplit
      value: "on"
    - name: allow_subscribe_during_netsplit
      value: "on"
    - name: allow_unsubscribe_during_netsplit
      value: "on"
    listeners:
    - address: 0.0.0.0
      port: 1883
    - address: 0.0.0.0
      port: 1888
      websocket: true
    plugins: []
  env:
    - name: VERNEMQ_CONF
      value: YWNjZXB0X2V1bGEgPSB5ZXMKYWxsb3dfYW5vbnltb3VzID0gb24KYWxsb3dfcmVnaXN0ZXJfZHVyaW5nX25ldHNwbGl0ID0gb2ZmCmFsbG93X3B1Ymxpc2hfZHVyaW5nX25ldHNwbGl0ID0gb2ZmCmFsbG93X3N1YnNjcmliZV9kdXJpbmdfbmV0c3BsaXQgPSBvZmYKYWxsb3dfdW5zdWJzY3JpYmVfZHVyaW5nX25ldHNwbGl0ID0gb2ZmCmFsbG93X211bHRpcGxlX3Nlc3Npb25zID0gb2ZmCmNvb3JkaW5hdGVfcmVnaXN0cmF0aW9ucyA9IG9uCm1heF9pbmZsaWdodF9tZXNzYWdlcyA9IDIwCm1heF9vbmxpbmVfbWVzc2FnZXMgPSAxMDAwCm1heF9vZmZsaW5lX21lc3NhZ2VzID0gMTAwMAptYXhfbWVzc2FnZV9zaXplID0gMAp1cGdyYWRlX291dGdvaW5nX3FvcyA9IG9mZgpsaXN0ZW5lci5tYXhfY29ubmVjdGlvbnMgPSAxMDAwMApsaXN0ZW5lci5ucl9vZl9hY2NlcHRvcnMgPSAxMApsaXN0ZW5lci50Y3AuZGVmYXVsdCA9IDEyNy4wLjAuMToxODgzCmxpc3RlbmVyLnZtcS5jbHVzdGVyaW5nID0gMC4wLjAuMDo0NDA1MwpsaXN0ZW5lci5odHRwLmRlZmF1bHQgPSAxMjcuMC4wLjE6ODg4OApsaXN0ZW5lci53cy5kZWZhdWx0ID0gMTI3LjAuMC4xOjgwODAKc3lzdHJlZV9lbmFibGVkID0gb24Kc3lzdHJlZV9pbnRlcnZhbCA9IDIwMDAwCmdyYXBoaXRlX2VuYWJsZWQgPSBvZmYKZ3JhcGhpdGVfaG9zdCA9IGxvY2FsaG9zdApncmFwaGl0ZV9wb3J0ID0gMjAwMwpncmFwaGl0ZV9pbnRlcnZhbCA9IDIwMDAwCnNoYXJlZF9zdWJzY3JpcHRpb25fcG9saWN5ID0gcHJlZmVyX2xvY2FsCnBsdWdpbnMudm1xX3Bhc3N3ZCA9IG9uCnBsdWdpbnMudm1xX2FjbCA9IG9uCnBsdWdpbnMudm1xX2RpdmVyc2l0eSA9IG9mZgpwbHVnaW5zLnZtcV93ZWJob29rcyA9IG9mZgpwbHVnaW5zLnZtcV9icmlkZ2UgPSBvZmYKdG9waWNfbWF4X2RlcHRoID0gMTAKbWV0YWRhdGFfcGx1Z2luID0gdm1xX3N3Ywp2bXFfYWNsLmFjbF9maWxlPS9ldGMvdmVybmVtcS9jb25maWdtYXBzL3Zlcm5lbXEtY29uZmlnbWFwcy92bXEuYWNsCnZtcV9hY2wuYWNsX3JlbG9hZF9pbnRlcnZhbCA9IDEwCnZtcV9wYXNzd2QucGFzc3dvcmRfZmlsZSA9IC4vZXRjL3ZtcS5wYXNzd2QKdm1xX3Bhc3N3ZC5wYXNzd29yZF9yZWxvYWRfaW50ZXJ2YWwgPSAxMAp2bXFfZGl2ZXJzaXR5LnNjcmlwdF9kaXIgPSAuL3NoYXJlL2x1YQp2bXFfZGl2ZXJzaXR5LmF1dGhfcG9zdGdyZXMuZW5hYmxlZCA9IG9mZgp2bXFfZGl2ZXJzaXR5LnBvc3RncmVzLnNzbCA9IG9mZgp2bXFfZGl2ZXJzaXR5LnBvc3RncmVzLnBhc3N3b3JkX2hhc2hfbWV0aG9kID0gY3J5cHQKdm1xX2RpdmVyc2l0eS5hdXRoX2NvY2tyb2FjaGRiLmVuYWJsZWQgPSBvZmYKdm1xX2RpdmVyc2l0eS5jb2Nrcm9hY2hkYi5zc2wgPSBvbgp2bXFfZGl2ZXJzaXR5LmNvY2tyb2FjaGRiLnBhc3N3b3JkX2hhc2hfbWV0aG9kID0gYmNyeXB0CnZtcV9kaXZlcnNpdHkuYXV0aF9teXNxbC5lbmFibGVkID0gb2ZmCnZtcV9kaXZlcnNpdHkubXlzcWwucGFzc3dvcmRfaGFzaF9tZXRob2QgPSBwYXNzd29yZAp2bXFfZGl2ZXJzaXR5LmF1dGhfbW9uZ29kYi5lbmFibGVkID0gb2ZmCnZtcV9kaXZlcnNpdHkubW9uZ29kYi5zc2wgPSBvZmYKdm1xX2RpdmVyc2l0eS5hdXRoX3JlZGlzLmVuYWJsZWQgPSBvZmYKdm1xX2JjcnlwdC5wb29sX3NpemUgPSAxCmxvZy5jb25zb2xlID0gZmlsZQpsb2cuY29uc29sZS5sZXZlbCA9IGluZm8KbG9nLmNvbnNvbGUuZmlsZSA9IC4vbG9nL2NvbnNvbGUubG9nCmxvZy5lcnJvci5maWxlID0gLi9sb2cvZXJyb3IubG9nCmxvZy5zeXNsb2cgPSBvZmYKbG9nLmNyYXNoID0gb24KbG9nLmNyYXNoLmZpbGUgPSAuL2xvZy9jcmFzaC5sb2cKbG9nLmNyYXNoLm1heGltdW1fbWVzc2FnZV9zaXplID0gNjRLQgpsb2cuY3Jhc2guc2l6ZSA9IDEwTUIKbG9nLmNyYXNoLnJvdGF0aW9uLmtlZXAgPSA1Cm5vZGVuYW1lID0gVmVybmVNUUAxMjcuMC4wLjEKZGlzdHJpYnV0ZWRfY29va2llID0gdm1xCmVybGFuZy5hc3luY190aHJlYWRzID0gNjQKZXJsYW5nLm1heF9wb3J0cyA9IDI2MjE0NApsZXZlbGRiLm1heGltdW1fbWVtb3J5LnBlcmNlbnQgPSA3MA==
  serviceAccountName: vernemq-k8s
  size: 2
  version: 1.12.3
  configMaps:
    - "vernemq-configmap"